(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{416:function(_,v,a){"use strict";a.r(v);var t=a(0),s=Object(t.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[_._v("介绍")]),_._v(" "),v("p",[_._v("学习电源知识，制作STM32数控电源")])]),_._v(" "),v("h1",{attrs:{id:"电源开发日志"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电源开发日志"}},[_._v("#")]),_._v(" 电源开发日志")]),_._v(" "),v("h2",{attrs:{id:"理论学习部分"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#理论学习部分"}},[_._v("#")]),_._v(" 理论学习部分")]),_._v(" "),v("h3",{attrs:{id:"电源分类"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电源分类"}},[_._v("#")]),_._v(" 电源分类")]),_._v(" "),v("p",[_._v("1电压源:家用")]),_._v(" "),v("p",[_._v("2电流源:充电器")]),_._v(" "),v("p",[_._v("\\")]),_._v(" "),v("p",[_._v("3直流电源:DC")]),_._v(" "),v("p",[_._v("4交流电源:AC")]),_._v(" "),v("p",[_._v("\\")]),_._v(" "),v("p",[_._v("5线性电源:LDO")]),_._v(" "),v("p",[_._v("6开关电源:BUCK")]),_._v(" "),v("p",[_._v("\\")]),_._v(" "),v("p",[_._v("7降压电源")]),_._v(" "),v("p",[_._v("8升压电源")]),_._v(" "),v("p",[_._v("9升压降压电源")]),_._v(" "),v("h3",{attrs:{id:"ldo"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ldo"}},[_._v("#")]),_._v(" LDO:")]),_._v(" "),v("p",[_._v("特点:负载功率越大,效率越低;")]),_._v(" "),v("p",[_._v("自身承担多余的电压,来实现降压;")]),_._v(" "),v("p",[_._v("控制简单,器件少,成本低,适用于负载小的场合(小电流,三极管CE端压降小的时候);")]),_._v(" "),v("h3",{attrs:{id:"buck"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#buck"}},[_._v("#")]),_._v(" BUCK:")]),_._v(" "),v("p",[_._v("优点:效率高,体积小,可以实现大功率(损耗小);")]),_._v(" "),v("h5",{attrs:{id:"实现要点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#实现要点"}},[_._v("#")]),_._v(" 实现要点:")]),_._v(" "),v("ol",[v("li",[_._v("对输出电压进行检测;")]),_._v(" "),v("li",[_._v("反馈到输入端;")]),_._v(" "),v("li",[_._v("开关调节;")]),_._v(" "),v("li",[_._v("对输出电压进行检测...")])]),_._v(" "),v("h5",{attrs:{id:"问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[_._v("#")]),_._v(" 问题:")]),_._v(" "),v("ol",[v("li",[_._v("输出的电压有波动(纹波)")]),_._v(" "),v("li",[_._v("输入波动对输出电压的影响")]),_._v(" "),v("li",[_._v("负载也是波动的")]),_._v(" "),v("li",[_._v("调节时间的长短对输出电压的影响(调节时间产生的结果称为:响应)")])]),_._v(" "),v("h4",{attrs:{id:"开关"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#开关"}},[_._v("#")]),_._v(" 开关:")]),_._v(" "),v("h5",{attrs:{id:"mosfet电子开关"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mosfet电子开关"}},[_._v("#")]),_._v(" MOSFET电子开关")]),_._v(" "),v("p",[_._v("MOSFET的损耗问题:")]),_._v(" "),v("ol",[v("li",[_._v("导通损耗:漏极和源极的等效电阻Rdson;")]),_._v(" "),v("li",[_._v("开关损耗:工艺原因MOSFET无法完全导通和完全断开;")])]),_._v(" "),v("h5",{attrs:{id:"igbt开关器件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#igbt开关器件"}},[_._v("#")]),_._v(" IGBT开关器件")]),_._v(" "),v("h5",{attrs:{id:"特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[_._v("#")]),_._v(" 特点:")]),_._v(" "),v("ol",[v("li",[_._v("导通时可以通过更大的流;")]),_._v(" "),v("li",[_._v("导通速度较MOSFET慢(开关频率低,体积大);")]),_._v(" "),v("li",[_._v("导通压降为一定值(导通损耗比较低);")])]),_._v(" "),v("h5",{attrs:{id:"两种开关器件体积与开关频率的关系特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#两种开关器件体积与开关频率的关系特点"}},[_._v("#")]),_._v(" 两种开关器件体积与开关频率的关系特点")]),_._v(" "),v("ol",[v("li",[_._v("成本不一样;")]),_._v(" "),v("li",[_._v("频率不一样;")]),_._v(" "),v("li",[_._v("体积(运送包的体积)不一样(体积越小频率越高,成本越低) -> 电感;")]),_._v(" "),v("li",[_._v("需要把能量拆分成若干个包,分批次运输(为了降低体积进而降低成本);")])]),_._v(" "),v("p",[_._v("*频率越高,分的批次越多,开关损耗增大,温升增高,进而影响器件寿命;")]),_._v(" "),v("p",[_._v("*温升每升高10度,系统的可靠性就会下降10倍;")]),_._v(" "),v("h3",{attrs:{id:"开关电路元器件的作用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#开关电路元器件的作用"}},[_._v("#")]),_._v(" 开关电路元器件的作用")]),_._v(" "),v("h4",{attrs:{id:"电容"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电容"}},[_._v("#")]),_._v(" 电容:")]),_._v(" "),v("p",[_._v("特点:电容上的电压不会发生激变,电流会发生激变;")]),_._v(" "),v("ol",[v("li",[_._v("使负载电压相对稳定;")]),_._v(" "),v("li",[_._v("通过开关频率控制输出电压为所需电压;")]),_._v(" "),v("li",[_._v("维持负载的正常工作;")]),_._v(" "),v("li",[_._v("以电压的形式储存能量;")])]),_._v(" "),v("h4",{attrs:{id:"电感-核心器件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电感-核心器件"}},[_._v("#")]),_._v(" 电感(核心器件):")]),_._v(" "),v("p",[_._v("特点:电感上的电流不会发生激变,电压会发生激变;")]),_._v(" "),v("ol",[v("li",[_._v("不会出现浪涌电流损坏电容;")]),_._v(" "),v("li",[_._v("不耗能;")]),_._v(" "),v("li",[_._v("和电容共同作用使输出电压稳定;")]),_._v(" "),v("li",[_._v("以电流的方式储存能量;")])]),_._v(" "),v("p",[_._v("*电感电压的电弧作用;")]),_._v(" "),v("p",[_._v("*电容的电压可以等效为电感的电流;")]),_._v(" "),v("p",[_._v("*电源涉及到能量的储存和转移;")]),_._v(" "),v("p",[_._v("*电感饱和时对电流的抑制能力为0;")]),_._v(" "),v("h4",{attrs:{id:"续流二极管"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#续流二极管"}},[_._v("#")]),_._v(" 续流二极管:")]),_._v(" "),v("ol",[v("li",[_._v("续流,不会出现电弧损坏开关器件;")]),_._v(" "),v("li",[_._v("替代电阻减小损耗;")])]),_._v(" "),v("p",[_._v("*开关管的耐压 > Vin+二极管正向压降;")]),_._v(" "),v("p",[_._v("*二极管的反向耐压 > Vin;")]),_._v(" "),v("h3",{attrs:{id:"buck电源的核心器件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#buck电源的核心器件"}},[_._v("#")]),_._v(" BUCK电源的核心器件")]),_._v(" "),v("h4",{attrs:{id:"电感"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电感"}},[_._v("#")]),_._v(" 电感:")]),_._v(" "),v("ol",[v("li",[_._v("工作模式:电流的下峰值不为0(连续工作模式CCM),某时刻为0(临界连续模式BCM),某段时间为0(断续模式DCM);")]),_._v(" "),v("li",[_._v("电感的感应电压与电感电流的斜率有关;")]),_._v(" "),v("li",[_._v("电感电压与开关的动作总是相反;")]),_._v(" "),v("li",[_._v("电感的电压由Vin和Vout决定;")]),_._v(" "),v("li",[_._v("电感上面的平均电流等于负载电流;")]),_._v(" "),v("li",[_._v("在CCM,BCM工作状态下,电感的平均电流位于电感电流的几何中心;")]),_._v(" "),v("li",[_._v("电感的额定电流要为基准电流的1.2倍;")])]),_._v(" "),v("h5",{attrs:{id:"计算公式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#计算公式"}},[_._v("#")]),_._v(" 计算公式")]),_._v(" "),v("p",[_._v("电感选择:")]),_._v(" "),v("ol",[v("li",[v("h5",{attrs:{id:"输出电压大小"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#输出电压大小"}},[_._v("#")]),_._v(" 输出电压大小:")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/202302261337097.png",alt:"img"}})])]),_._v(" "),v("li",[v("h5",{attrs:{id:"电感大小"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电感大小"}},[_._v("#")]),_._v(" 电感大小:")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/202302261328300.png",alt:"img"}})])]),_._v(" "),v("li",[v("h5",{attrs:{id:"电感额定电流"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电感额定电流"}},[_._v("#")]),_._v(" 电感额定电流:")])])]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/202302261328652.png",alt:"img"}})]),_._v(" "),v("h3",{attrs:{id:"tps5430"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tps5430"}},[_._v("#")]),_._v(" TPS5430")]),_._v(" "),v("p",[_._v("经典DC-DC降压芯片")]),_._v(" "),v("ol",[v("li",[_._v("电压反馈功能")]),_._v(" "),v("li",[_._v("电流的反馈功能")]),_._v(" "),v("li",[_._v("PWM调节")]),_._v(" "),v("li",[_._v("供电电源")]),_._v(" "),v("li",[_._v("电压保护")])]),_._v(" "),v("p",[_._v("*使用电源芯片时,高频回路和采样回路一定要短;")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/202302261338019.jpg",alt:"img"}})]),_._v(" "),v("h4",{attrs:{id:"电源芯片具备的功能"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电源芯片具备的功能"}},[_._v("#")]),_._v(" 电源芯片具备的功能")]),_._v(" "),v("ol",[v("li",[_._v("欠压保护")]),_._v(" "),v("li",[_._v("使能开关")]),_._v(" "),v("li",[_._v("过温度保护")]),_._v(" "),v("li",[_._v("高精度的基准电压")]),_._v(" "),v("li",[_._v("软起电路")]),_._v(" "),v("li",[_._v("自举充电电路")]),_._v(" "),v("li",[_._v("PWM波生成器")]),_._v(" "),v("li",[_._v("电流保护")]),_._v(" "),v("li",[_._v("内置mos管")]),_._v(" "),v("li",[_._v("驱动电路")])]),_._v(" "),v("h3",{attrs:{id:"设计电源驱动要点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#设计电源驱动要点"}},[_._v("#")]),_._v(" 设计电源驱动要点")]),_._v(" "),v("ol",[v("li",[_._v("实现开关作用;")]),_._v(" "),v("li",[_._v("PWM波形电路;")]),_._v(" "),v("li",[_._v("软启定电路;")]),_._v(" "),v("li",[_._v("悬浮的电路设计;")]),_._v(" "),v("li",[_._v("自举电路;")]),_._v(" "),v("li",[_._v("上电启动电路;")]),_._v(" "),v("li",[_._v("电流保护电路;")]),_._v(" "),v("li",[_._v("电压环控制电路;")])]),_._v(" "),v("p",[_._v("*控制弱电而不是强电;")]),_._v(" "),v("h2",{attrs:{id:"电路设计"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电路设计"}},[_._v("#")]),_._v(" 电路设计")]),_._v(" "),v("h3",{attrs:{id:"原理图仿真"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原理图仿真"}},[_._v("#")]),_._v(" 原理图仿真")]),_._v(" "),v("p",[_._v("根据上面的"),v("code",[_._v("设计电源驱动要点")]),_._v("经过不断仿真设计出如下所示电路")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226154107984.png",alt:"image-20230226154107984"}})]),_._v(" "),v("p",[_._v("该电路未使用栅极驱动IC,方针成功.但考虑到若干三极管和LM358的成分并不低于一个功放IC的成本.故此电路仅作方针不做实物.")]),_._v(" "),v("p",[_._v("ps:由于存储问题,部分文件都已经打不开了,但是下面的电路都是经过仿真可行后绘制的原理图.")]),_._v(" "),v("h3",{attrs:{id:"原理图设计"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原理图设计"}},[_._v("#")]),_._v(" 原理图设计")]),_._v(" "),v("p",[_._v("选用国产的栅极驱动EG2104设计的BUCK电路")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226160958803.png",alt:"image-20230226160958803"}})]),_._v(" "),v("p",[v("a",{attrs:{href:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/pdf/32CNC.pdf",target:"_blank",rel:"noopener noreferrer"}},[_._v("完整原理图下载"),v("OutboundLink")],1)]),_._v(" "),v("h3",{attrs:{id:"pcb-layout"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#pcb-layout"}},[_._v("#")]),_._v(" PCB LAYOUT")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226161707254.png",alt:"image-20230226161707254"}})]),_._v(" "),v("h3",{attrs:{id:"测试"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[_._v("#")]),_._v(" 测试")]),_._v(" "),v("h4",{attrs:{id:"电源纹波"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#电源纹波"}},[_._v("#")]),_._v(" 电源纹波")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226164713803.png",alt:"image-20230226164713803"}})]),_._v(" "),v("p",[_._v("这个波形是有问题的,原因是控制栅极驱动IC的PWM引脚(PA15)在单片机复位时该引脚被JTAG功能占用(高电平),随后才会被PWM功能占用,因此会出现很大的尖峰,发现问题后.将"),v("code",[_._v("GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable, ENABLE);")]),_._v("在main函数开头问题得以解决.由于存储问题解决后的上电波形图丢失(纹波形况可以参考下面负载测试的波形图),大致如上图去掉开始的大尖峰.")]),_._v(" "),v("h4",{attrs:{id:"负载测试"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#负载测试"}},[_._v("#")]),_._v(" 负载测试")]),_._v(" "),v("p",[_._v("测试说明:将未工作的电机接在数控电源上,在波形图上观察电源抗压能力(PID)")]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226163500380.png",alt:"image-20230226163500380"}})]),_._v(" "),v("p",[v("a",{attrs:{href:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/mp4/testCNC.mp4",target:"_blank",rel:"noopener noreferrer"}},[_._v("测试视频"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("img",{attrs:{src:"https://778b-1317013106.cos.ap-nanjing.myqcloud.com/img/image-20230226163415396.png",alt:"抗压测试波形"}})]),_._v(" "),v("h2",{attrs:{id:"总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[_._v("#")]),_._v(" 总结")]),_._v(" "),v("ol",[v("li",[_._v("设计电路时使用集成芯片并非糟糕的选择,反而芯片的性能和稳定性更强,因此手搓电路还是使用芯片需要斟酌斟酌.")]),_._v(" "),v("li",[_._v("在MCU的原理图设计时尽量避免使用一些很特殊的引脚,来省去不必要的麻烦.")]),_._v(" "),v("li",[_._v("电源的程序是在逻辑状态下编写,在很多函数之间的依赖以及先后问题上会变得复杂,因此要好好学习UCOS,降低开发难度的同时,使产品变得更加稳定.")])])])}),[],!1,null,null,null);v.default=s.exports}}]);